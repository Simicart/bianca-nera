{"version":3,"sources":["../../../src/components/CreateAccount/asyncValidators.js"],"names":["RestApi","request","Magento2","validateEmail","value","body","customerEmail","website_id","available","method","JSON","stringify","error"],"mappings":"AAAA,SAASA,OAAT,QAAwB,oBAAxB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAcD,OAAO,CAACE,QAA5B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAMC,KAAN,IAAe;AACxC,MAAI;AACA,UAAMC,IAAI,GAAG;AACTC,MAAAA,aAAa,EAAEF,KADN;AAETG,MAAAA,UAAU,EAAE;AAFH,KAAb,CADA,CAMA;;AACA,UAAMC,SAAS,GAAG,MAAMP,OAAO,CAAC,qCAAD,EAAwC;AACnEQ,MAAAA,MAAM,EAAE,MAD2D;AAEnEJ,MAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf;AAF6D,KAAxC,CAA/B;AAKA,WAAO,CAACG,SAAD,GAAa,sCAAb,GAAsD,IAA7D;AACH,GAbD,CAaE,OAAOI,KAAP,EAAc;AACZ,UAAM,wDAAN;AACH;AACJ,CAjBM","sourcesContent":["import { RestApi } from '@magento/peregrine';\n\nconst { request } = RestApi.Magento2;\n\nexport const validateEmail = async value => {\n    try {\n        const body = {\n            customerEmail: value,\n            website_id: null\n        };\n\n        // response is a boolean\n        const available = await request('/rest/V1/customers/isEmailAvailable', {\n            method: 'POST',\n            body: JSON.stringify(body)\n        });\n\n        return !available ? 'This email address is not available.' : null;\n    } catch (error) {\n        throw 'An error occurred while looking up this email address.';\n    }\n};\n"],"file":"asyncValidators.js"}